# ğŸš€ DemandModifier ç‰ˆæœ¬æ›´æ–°èˆ‡ç™¼è¡Œå®Œæ•´æŒ‡å—

## ğŸ“Œ ç›®éŒ„
1. [ç™¼è¡Œå‰æº–å‚™æª¢æŸ¥æ¸…å–®](#ç™¼è¡Œå‰æº–å‚™æª¢æŸ¥æ¸…å–®)
2. [ç‰ˆæœ¬è™Ÿæ›´æ–°](#ç‰ˆæœ¬è™Ÿæ›´æ–°)
3. [ç™¼è¡Œæ–°ç‰ˆæœ¬åˆ° Paradox Mods](#ç™¼è¡Œæ–°ç‰ˆæœ¬åˆ°-paradox-mods)
4. [å¸¸è¦‹éŒ¯èª¤èˆ‡è§£æ±ºæ–¹æ¡ˆ](#å¸¸è¦‹éŒ¯èª¤èˆ‡è§£æ±ºæ–¹æ¡ˆ)

---

## ç™¼è¡Œå‰æº–å‚™æª¢æŸ¥æ¸…å–®

### âœ… å¿…é ˆå®Œæˆçš„é …ç›®

#### 1. ç¢ºèªç¨‹å¼ç¢¼è®Šæ›´
```powershell
# æŸ¥çœ‹æ‰€æœ‰è®Šæ›´
git status

# ç¢ºèªç¨‹å¼ç¢¼å·²æäº¤
git add .
git commit -m "Version 0.0.14 - ä½ çš„æ›´æ–°å…§å®¹"
```

#### 2. æ¸¬è©¦æ¨¡çµ„åŠŸèƒ½
- [ ] å»ºç½® Release ç‰ˆæœ¬æˆåŠŸ
- [ ] åœ¨éŠæˆ²ä¸­æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½
- [ ] æª¢æŸ¥è¨­å®š UI æ˜¯å¦æ­£å¸¸é¡¯ç¤º
- [ ] æ¸¬è©¦åˆ‡æ›ä¸åŒèªè¨€
- [ ] ç¢ºèªç„¡éŒ¯èª¤æ—¥èªŒ

#### 3. æº–å‚™ç¸®åœ– (Thumbnail)
- **æª”æ¡ˆè·¯å¾‘**ï¼š`Properties/Thumbnail.png`
- **å°ºå¯¸è¦æ±‚**ï¼š256x256 åƒç´ 
- **æ ¼å¼**ï¼šPNG

å¦‚æœæ²’æœ‰ç¸®åœ–ï¼Œå»ºç«‹ä¸€å€‹é è¨­åœ–ç‰‡ï¼š
```powershell
# æª¢æŸ¥æ˜¯å¦å­˜åœ¨
Test-Path "e:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier\Properties\Thumbnail.png"
```

**âš ï¸ é‡è¦**ï¼šå¦‚æœæ²’æœ‰ç¸®åœ–ï¼Œå¿…é ˆå»ºç«‹ä¸€å€‹æˆ–æš«æ™‚ç§»é™¤è©²è¨­å®šè¡Œã€‚

---

## ç‰ˆæœ¬è™Ÿæ›´æ–°

### ğŸ“ èªæ„åŒ–ç‰ˆæœ¬è¦å‰‡

ä½¿ç”¨ **èªæ„åŒ–ç‰ˆæœ¬ (Semantic Versioning)**ï¼š`ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è¨‚è™Ÿ`

- **ä¸»ç‰ˆæœ¬ (Major)**ï¼šé‡å¤§è®Šæ›´ï¼Œå¯èƒ½ä¸ç›¸å®¹èˆŠç‰ˆæœ¬
  - ç¯„ä¾‹ï¼š`0.x.x` â†’ `1.0.0`
- **æ¬¡ç‰ˆæœ¬ (Minor)**ï¼šæ–°å¢åŠŸèƒ½ï¼Œå‘ä¸‹ç›¸å®¹
  - ç¯„ä¾‹ï¼š`0.0.x` â†’ `0.1.0`
- **ä¿®è¨‚è™Ÿ (Patch)**ï¼šBug ä¿®å¾©ï¼Œå°å¹…æ”¹é€²
  - ç¯„ä¾‹ï¼š`0.0.13` â†’ `0.0.14`

### ğŸ”§ æ›´æ–°æ­¥é©Ÿ

#### æ­¥é©Ÿ 1ï¼šæ›´æ–° `PublishConfiguration.xml`

é–‹å•Ÿ `Properties/PublishConfiguration.xml`ï¼Œä¿®æ”¹ä»¥ä¸‹æ¬„ä½ï¼š

```xml
<!-- æ›´æ–°ç‰ˆæœ¬è™Ÿ -->
<ModVersion Value="0.0.14" />

<!-- æ›´æ–°éŠæˆ²ç‰ˆæœ¬ç›¸å®¹æ€§ (å¦‚éœ€è¦) -->
<GameVersion Value="1.2.*" />

<!-- æ›´æ–°è®Šæ›´æ—¥èªŒ (å¿…å¡«ï¼) -->
<ChangeLog Value="Version 0.0.14 - æ–°å¢ç„¡é™é‡‘éŒ¢åŠŸèƒ½ï¼Œä¿®å¾©å•†æ¥­éœ€æ±‚ Bug" />
```

**ğŸ“‹ è®Šæ›´æ—¥èªŒç¯„ä¾‹æ ¼å¼ï¼š**
```xml
<!-- ç°¡çŸ­ç‰ˆæœ¬ -->
<ChangeLog Value="Version 0.0.14 - æ–°å¢ç„¡é™é‡‘éŒ¢åŠŸèƒ½ï¼Œä¿®å¾©å•†æ¥­éœ€æ±‚ Bug" />

<!-- å¤šè¡Œè©³ç´°ç‰ˆæœ¬ -->
<ChangeLog>
**Version 0.0.14**
- æ–°å¢ï¼šç„¡é™é‡‘éŒ¢åŠŸèƒ½
- æ–°å¢ï¼šå…è²»å»ºè¨­é¸é …
- ä¿®å¾©ï¼šå•†æ¥­éœ€æ±‚ä¸æ­£å¸¸çš„ Bug
- æ”¹é€²ï¼šè¨­å®šä»‹é¢å¤šåœ‹èªç³»ç¿»è­¯
</ChangeLog>
```

#### æ­¥é©Ÿ 2ï¼šæ›´æ–° `CHANGELOG.md`

åœ¨ `docs/CHANGELOG.md` è¨˜éŒ„è©³ç´°è®Šæ›´ï¼š

```markdown
## [0.0.14] - 2025-10-27

### æ–°å¢
- ç„¡é™é‡‘éŒ¢åŠŸèƒ½
- å…è²»å»ºè¨­é¸é …

### ä¿®å¾©
- ä¿®æ­£å•†æ¥­éœ€æ±‚ä¸æ­£å¸¸çš„å•é¡Œ

### æ”¹é€²
- å„ªåŒ–è¨­å®šä»‹é¢ç¿»è­¯
```

---

## ç™¼è¡Œæ–°ç‰ˆæœ¬åˆ° Paradox Mods

### ğŸ¯ ä½¿ç”¨ PublishNewVersion ç™¼è¡Œæ›´æ–°

#### æ­¥é©Ÿ 1ï¼šç¢ºèª ModId å·²è¨­å®š

æª¢æŸ¥ `PublishConfiguration.xml` çš„ `<ModId>` æ¬„ä½ï¼š
```xml
<ModId Value="123136" />
```
âœ… ä½ çš„ ModId æ˜¯ `123136`ï¼Œå·²æ­£ç¢ºè¨­å®šã€‚

#### æ­¥é©Ÿ 2ï¼šåŸ·è¡Œ Release å»ºç½®

```powershell
# æ¸…ç†èˆŠå»ºç½®ç”¢ç‰©
dotnet clean

# å»ºç½® Release ç‰ˆæœ¬
dotnet build -c Release

# ç¢ºèªå»ºç½®æˆåŠŸ
if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ“ å»ºç½®æˆåŠŸ" -ForegroundColor Green
} else {
    Write-Host "âœ— å»ºç½®å¤±æ•—ï¼Œè«‹æª¢æŸ¥éŒ¯èª¤è¨Šæ¯" -ForegroundColor Red
    exit
}
```

#### æ­¥é©Ÿ 3ï¼šæª¢æŸ¥å¿…è¦æª”æ¡ˆ

```powershell
# æª¢æŸ¥ DLL æ˜¯å¦å­˜åœ¨
Test-Path "bin\Release\net48\DemandModifier.dll"

# æª¢æŸ¥èªç³»æª”æ¡ˆ
Get-ChildItem "bin\Release\net48\l10n\*.json"

# æª¢æŸ¥ç¸®åœ– (å¦‚æœè¨­å®šæª”ä¸­æœ‰æŒ‡å®š)
Test-Path "Properties\Thumbnail.png"
```

#### æ­¥é©Ÿ 4ï¼šç™¼è¡Œæ–°ç‰ˆæœ¬

```powershell
# ç™¼è¡Œæ–°ç‰ˆæœ¬åˆ° Paradox Mods
dotnet publish /p:PublishProfile=PublishNewVersion
```

**â³ ç™¼è¡Œéç¨‹èªªæ˜ï¼š**
1. ModPublisher æœƒå£“ç¸®ä½ çš„ DLL å’Œèªç³»æª”æ¡ˆ
2. ä¸Šå‚³åˆ° Paradox Mods ä¼ºæœå™¨
3. æ›´æ–°æ¨¡çµ„è³‡è¨Š (ç‰ˆæœ¬è™Ÿã€è®Šæ›´æ—¥èªŒã€æè¿°ç­‰)
4. é©—è­‰æª”æ¡ˆå®Œæ•´æ€§

**âœ… æˆåŠŸè¨Šæ¯ï¼š**
```
Mod published successfully!
Mod ID: 123136
Version: 0.0.14
```

**âŒ å¦‚æœå¤±æ•—ï¼Œè«‹æŸ¥çœ‹ [å¸¸è¦‹éŒ¯èª¤](#å¸¸è¦‹éŒ¯èª¤èˆ‡è§£æ±ºæ–¹æ¡ˆ)**

---

## å¸¸è¦‹éŒ¯èª¤èˆ‡è§£æ±ºæ–¹æ¡ˆ

### âŒ éŒ¯èª¤ 1ï¼šè¿”å›ç¢¼ -1 (ä½ ç›®å‰é‡åˆ°çš„å•é¡Œ)

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
éŒ¯èª¤ MSB3073: ModPublisher.exe" å‘½ä»¤ä»¥è¿”å›ç¢¼ -1 çµæŸã€‚
```

**å¯èƒ½åŸå› èˆ‡è§£æ±ºæ–¹æ¡ˆï¼š**

#### åŸå›  Aï¼šChangeLog ç‚ºç©º
```xml
<!-- âŒ éŒ¯èª¤ -->
<ChangeLog Value="" />

<!-- âœ… æ­£ç¢º -->
<ChangeLog Value="Version 0.0.14 - æ–°å¢ç„¡é™é‡‘éŒ¢åŠŸèƒ½" />
```

#### åŸå›  Bï¼šThumbnail æª”æ¡ˆä¸å­˜åœ¨
```powershell
# æª¢æŸ¥ç¸®åœ–æ˜¯å¦å­˜åœ¨
Test-Path "Properties\Thumbnail.png"

# å¦‚æœä¸å­˜åœ¨ï¼Œæœ‰å…©å€‹é¸æ“‡ï¼š

# é¸æ“‡ 1ï¼šç§»é™¤ç¸®åœ–è¨­å®š (æš«æ™‚)
# åœ¨ PublishConfiguration.xml ä¸­è¨»è§£æ‰
<!--<Thumbnail Value="Properties/Thumbnail.png" />-->

# é¸æ“‡ 2ï¼šå»ºç«‹ä¸€å€‹é è¨­ç¸®åœ– (å»ºè­°)
# ä½¿ç”¨ä»»ä½•åœ–ç‰‡ç·¨è¼¯å·¥å…·å»ºç«‹ 256x256 çš„ PNG åœ–ç‰‡
```

#### åŸå›  Cï¼šç¶²è·¯é€£ç·šå•é¡Œ
```powershell
# æ¸¬è©¦é€£ç·šåˆ° Paradox Mods API
Test-NetConnection -ComputerName mods.paradoxplaza.com -Port 443
```

#### åŸå›  Dï¼šModId éŒ¯èª¤
ç¢ºèª ModId æ˜¯å¦æ­£ç¢ºï¼š
- é¦–æ¬¡ç™¼è¡Œï¼šä½¿ç”¨ `PublishNewMod` (ä¸éœ€è¦ ModId)
- æ›´æ–°ç‰ˆæœ¬ï¼šä½¿ç”¨ `PublishNewVersion` (éœ€è¦æ­£ç¢ºçš„ ModId)

---

### âŒ éŒ¯èª¤ 2ï¼šæ‰¾ä¸åˆ° ModPublisher.exe

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
æ‰¾ä¸åˆ°è·¯å¾‘ 'ModPublisher.exe'
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªç’°å¢ƒè®Šæ•¸è¨­å®šæ­£ç¢ºï¼š
```powershell
$env:CSII_TOOLPATH
# æ‡‰è©²é¡¯ç¤ºä½ çš„ SDK è·¯å¾‘
```

2. æª¢æŸ¥ ModPublisher.exe æ˜¯å¦å­˜åœ¨ï¼š
```powershell
$publisherPath = "E:\SteamLibrary\steamapps\common\Cities Skylines II\Cities2_Data\Content\Game\.ModdingToolchain\ModPublisher\ModPublisher.exe"
Test-Path $publisherPath
```

3. å¦‚æœä¸å­˜åœ¨ï¼Œé‡æ–°å®‰è£ Cities: Skylines 2 Modding SDK

---

### âŒ éŒ¯èª¤ 3ï¼šç‰ˆæœ¬è™Ÿæ ¼å¼éŒ¯èª¤

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Invalid ModVersion format
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
```xml
<!-- âŒ éŒ¯èª¤æ ¼å¼ -->
<ModVersion Value="v0.0.14" />
<ModVersion Value="0.14" />
<ModVersion Value="14" />

<!-- âœ… æ­£ç¢ºæ ¼å¼ -->
<ModVersion Value="0.0.14" />
<ModVersion Value="1.0.0" />
<ModVersion Value="0.1.2" />
```

---

### âŒ éŒ¯èª¤ 4ï¼šGameVersion ä¸ç›¸å®¹

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Incompatible game version
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
```xml
<!-- æ”¯æ´ 1.2.x æ‰€æœ‰ç‰ˆæœ¬ -->
<GameVersion Value="1.2.*" />

<!-- æ”¯æ´ 1.x.x æ‰€æœ‰ç‰ˆæœ¬ -->
<GameVersion Value="1.*" />

<!-- æŒ‡å®šç²¾ç¢ºç‰ˆæœ¬ -->
<GameVersion Value="1.2.3" />
```

---

## ğŸ“š å®Œæ•´ç™¼è¡Œå·¥ä½œæµç¨‹

### ğŸ”„ æ¨™æº–ç™¼è¡Œæµç¨‹ (å»ºè­°)

```powershell
# 1. ç¢ºèªæ‰€æœ‰è®Šæ›´å·²æäº¤
git status
git add .
git commit -m "Version 0.0.14 release"

# 2. æ›´æ–°ç‰ˆæœ¬è™Ÿå’Œè®Šæ›´æ—¥èªŒ
# æ‰‹å‹•ç·¨è¼¯ Properties/PublishConfiguration.xml

# 3. æ¸…ç†ä¸¦å»ºç½®
dotnet clean
dotnet build -c Release

# 4. æœ¬æ©Ÿæ¸¬è©¦ (å¯é¸ä½†å¼·çƒˆå»ºè­°)
$modsPath = "$env:LOCALAPPDATA\..\LocalLow\Colossal Order\Cities Skylines II\Mods\DemandModifier"
Copy-Item "bin\Release\net48\*" $modsPath -Recurse -Force
# å•Ÿå‹•éŠæˆ²æ¸¬è©¦

# 5. ç™¼è¡Œåˆ° Paradox Mods
dotnet publish /p:PublishProfile=PublishNewVersion

# 6. æ¨é€åˆ° GitHub
git tag v0.0.14
git push origin master
git push origin v0.0.14

# 7. åœ¨ GitHub å»ºç«‹ Release (å¯é¸)
# å‰å¾€ https://github.com/ChengBoChuan/demandmodifier/releases/new
```

---

## ğŸ¨ å»ºç«‹ Thumbnail ç¸®åœ–

### ä½¿ç”¨ç·šä¸Šå·¥å…·

1. **Canva** (https://www.canva.com/)
   - é¸æ“‡ã€Œè‡ªè¨‚å°ºå¯¸ã€â†’ 256x256 åƒç´ 
   - è¨­è¨ˆä½ çš„æ¨¡çµ„åœ–ç¤º
   - ä¸‹è¼‰ç‚º PNG

2. **Photopea** (https://www.photopea.com/)
   - å…è²»çš„ç·šä¸Š Photoshop æ›¿ä»£å“
   - å»ºç«‹ 256x256 çš„æ–°å°ˆæ¡ˆ
   - è¨­è¨ˆä¸¦åŒ¯å‡ºç‚º PNG

3. **ç°¡æ˜“æ–¹æ¡ˆ**ï¼šä½¿ç”¨ PowerShell ç”Ÿæˆç´”è‰²ç¸®åœ–
```powershell
# é€™éœ€è¦å®‰è£ System.Drawing (åƒ…ä½œå±•ç¤ºï¼Œå»ºè­°ä½¿ç”¨å°ˆæ¥­å·¥å…·)
Add-Type -AssemblyName System.Drawing
$bmp = New-Object System.Drawing.Bitmap 256, 256
$graphics = [System.Drawing.Graphics]::FromImage($bmp)
$graphics.Clear([System.Drawing.Color]::DodgerBlue)
$bmp.Save("Properties\Thumbnail.png")
$graphics.Dispose()
$bmp.Dispose()
```

---

## ğŸ“Š ç‰ˆæœ¬ç™¼è¡Œæª¢æŸ¥è¡¨

è¤‡è£½æ­¤æª¢æŸ¥è¡¨åˆ°æ¯æ¬¡ç™¼è¡Œæ™‚ä½¿ç”¨ï¼š

```markdown
## Version 0.0.14 ç™¼è¡Œæª¢æŸ¥è¡¨

### ç™¼è¡Œå‰
- [ ] æ‰€æœ‰ç¨‹å¼ç¢¼è®Šæ›´å·²æäº¤
- [ ] åŠŸèƒ½æ¸¬è©¦é€šé
- [ ] å¤šåœ‹èªç³»æª”æ¡ˆå·²æ›´æ–°
- [ ] PublishConfiguration.xml ç‰ˆæœ¬è™Ÿå·²æ›´æ–°
- [ ] ChangeLog å·²å¡«å¯«
- [ ] CHANGELOG.md å·²æ›´æ–°
- [ ] Thumbnail.png å­˜åœ¨ä¸”æ­£ç¢º

### å»ºç½®
- [ ] `dotnet clean` æˆåŠŸ
- [ ] `dotnet build -c Release` æˆåŠŸ
- [ ] `bin\Release\net48\DemandModifier.dll` å­˜åœ¨
- [ ] `bin\Release\net48\l10n\*.json` å­˜åœ¨

### ç™¼è¡Œ
- [ ] `dotnet publish /p:PublishProfile=PublishNewVersion` æˆåŠŸ
- [ ] Paradox Mods é é¢å·²æ›´æ–°
- [ ] ç‰ˆæœ¬è™Ÿé¡¯ç¤ºæ­£ç¢º

### ç™¼è¡Œå¾Œ
- [ ] Git tag å·²å»ºç«‹
- [ ] GitHub Release å·²ç™¼å¸ƒ (å¯é¸)
- [ ] é€šçŸ¥ç¤¾ç¾¤æ›´æ–° (å¯é¸)
```

---

## ğŸ”— ç›¸é—œè³‡æº

- **Paradox Wiki - Modding Toolchain**: https://cs2.paradoxwikis.com/Modding_Toolchain
- **ä½ çš„æ¨¡çµ„é é¢**: https://mods.paradoxplaza.com/mods/123136/Windows
- **GitHub Repository**: https://github.com/ChengBoChuan/demandmodifier

---

## ğŸ’¡ æç¤ºèˆ‡æœ€ä½³å¯¦è¸

### ç‰ˆæœ¬è™Ÿç®¡ç†
- åˆæœŸé–‹ç™¼ï¼š`0.0.x` (å°å¹…æ”¹é€²å’Œä¿®å¾©)
- åŠŸèƒ½ç©©å®šï¼š`0.1.0` (ç¬¬ä¸€å€‹ç©©å®šç‰ˆæœ¬)
- é‡å¤§æ›´æ–°ï¼š`1.0.0` (æ­£å¼ç‰ˆæœ¬)

### è®Šæ›´æ—¥èªŒæ’°å¯«
- ä½¿ç”¨æ¸…æ¥šçš„åˆ†é¡ï¼šæ–°å¢ã€ä¿®å¾©ã€æ”¹é€²ã€ç§»é™¤
- æ¯å€‹é …ç›®ç°¡æ½”æ˜ç­
- æåŠé‡è¦çš„ Bug ä¿®å¾©
- å¦‚æœ‰ç ´å£æ€§è®Šæ›´ï¼Œå‹™å¿…è¨»æ˜

### ç™¼è¡Œé »ç‡
- Bug ä¿®å¾©ï¼šç›¡å¿«ç™¼è¡Œ (ä¿®è¨‚è™Ÿ +1)
- æ–°åŠŸèƒ½ï¼šç´¯ç©åˆ°ä¸€å®šæ•¸é‡å†ç™¼è¡Œ (æ¬¡ç‰ˆæœ¬ +1)
- é‡å¤§é‡æ§‹ï¼šå……åˆ†æ¸¬è©¦å¾Œç™¼è¡Œ (ä¸»ç‰ˆæœ¬ +1)

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-10-27
**ä½œè€…**ï¼šDemandModifier é–‹ç™¼åœ˜éšŠ

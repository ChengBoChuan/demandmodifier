# ğŸ”‘ è§£æ±º ModPublisher ç™»å…¥å•é¡Œ

## å•é¡Œèªªæ˜

ç•¶ä½ å˜—è©¦ç™¼è¡Œæ¨¡çµ„æ™‚ï¼Œæ”¶åˆ°éŒ¯èª¤è¨Šæ¯ï¼š
```
Could not auto log in: You were not logged in before. Launch the game and log in or pass email and password as args
New version publishing process failed
```

é€™æ˜¯å› ç‚º ModPublisher éœ€è¦ä½ çš„ Paradox å¸³è™Ÿç™»å…¥è³‡è¨Šæ‰èƒ½ä¸Šå‚³æ¨¡çµ„ã€‚

---

## âœ… è§£æ±ºæ–¹æ³• 1ï¼šåœ¨éŠæˆ²ä¸­ç™»å…¥ï¼ˆæœ€ç°¡å–®ï¼‰

### æ­¥é©Ÿï¼š

1. **å•Ÿå‹• Cities: Skylines 2**
   
2. **ç™»å…¥ Paradox å¸³è™Ÿ**
   - é»æ“Šä¸»é¸å–®å³ä¸Šè§’çš„ã€Œç™»å…¥ã€æŒ‰éˆ•
   - è¼¸å…¥ä½ çš„ Paradox å¸³è™Ÿå’Œå¯†ç¢¼
   - ç¢ºèªç™»å…¥æˆåŠŸï¼ˆæœƒé¡¯ç¤ºä½ çš„ä½¿ç”¨è€…åç¨±ï¼‰

3. **é—œé–‰éŠæˆ²**
   - æ­£å¸¸é€€å‡ºéŠæˆ²ï¼ˆé‡è¦ï¼ï¼‰
   - ç¢ºä¿éŠæˆ²å®Œå…¨é—œé–‰

4. **é‡æ–°åŸ·è¡Œç™¼è¡Œå‘½ä»¤**
   ```powershell
   cd e:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier
   dotnet publish /p:PublishProfile=PublishNewVersion
   ```

5. **å®Œæˆï¼**
   - ModPublisher ç¾åœ¨æœƒè‡ªå‹•ä½¿ç”¨ä½ å„²å­˜çš„ç™»å…¥è³‡è¨Š

### åŸç†èªªæ˜

ç•¶ä½ åœ¨éŠæˆ²ä¸­ç™»å…¥ Paradox å¸³è™Ÿå¾Œï¼ŒéŠæˆ²æœƒå„²å­˜ä¸€å€‹ç™»å…¥ token åœ¨ï¼š
```
%AppData%\..\LocalLow\Colossal Order\Cities Skylines II\
```

ModPublisher æœƒè®€å–é€™å€‹ token ä¾†èªè­‰ä½ çš„èº«ä»½ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ¯æ¬¡éƒ½è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ã€‚

---

## âœ… è§£æ±ºæ–¹æ³• 2ï¼šä½¿ç”¨å‘½ä»¤åˆ—åƒæ•¸ï¼ˆé€²éšï¼‰

å¦‚æœä½ ä¸æƒ³æ¯æ¬¡éƒ½é–‹éŠæˆ²ç™»å…¥ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤åˆ—æä¾›å¸³è™Ÿå¯†ç¢¼ã€‚

### âš ï¸ è­¦å‘Šï¼šä¸å»ºè­°åœ¨è…³æœ¬ä¸­å„²å­˜æ˜æ–‡å¯†ç¢¼

### ç›´æ¥åŸ·è¡Œï¼ˆä¸æ¨è–¦ï¼‰

```powershell
& "E:\SteamLibrary\steamapps\common\Cities Skylines II\Cities2_Data\Content\Game\.ModdingToolchain\ModPublisher\ModPublisher.exe" `
  NewVersion `
  "E:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier\Properties\PublishConfiguration.xml" `
  -c "C:\Users\zheng\AppData\LocalLow\Colossal Order\Cities Skylines II\Mods\DemandModifier" `
  -e "your-email@example.com" `
  -p "your-password" `
  -v
```

å°‡ `your-email@example.com` å’Œ `your-password` æ›¿æ›ç‚ºä½ çš„ Paradox å¸³è™Ÿå’Œå¯†ç¢¼ã€‚

### ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼ˆè¼ƒå®‰å…¨ï¼‰

```powershell
# è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆåƒ…æ­¤æ¬¡çµ‚ç«¯æ©Ÿæœ‰æ•ˆï¼‰
$env:PDX_EMAIL = "your-email@example.com"
$env:PDX_PASSWORD = "your-password"

# åŸ·è¡Œç™¼è¡Œ
& "E:\SteamLibrary\steamapps\common\Cities Skylines II\Cities2_Data\Content\Game\.ModdingToolchain\ModPublisher\ModPublisher.exe" `
  NewVersion `
  "E:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier\Properties\PublishConfiguration.xml" `
  -c "C:\Users\zheng\AppData\LocalLow\Colossal Order\Cities Skylines II\Mods\DemandModifier" `
  -e $env:PDX_EMAIL `
  -p $env:PDX_PASSWORD `
  -v
```

---

## ğŸ“ å®Œæ•´ç™¼è¡Œæµç¨‹ï¼ˆæ›´æ–°ç‰ˆï¼‰

### å‰ç½®æº–å‚™ï¼ˆåƒ…éœ€åšä¸€æ¬¡ï¼‰

1. **å•Ÿå‹• Cities: Skylines 2**
2. **åœ¨ä¸»é¸å–®ç™»å…¥ Paradox å¸³è™Ÿ**
3. **é—œé–‰éŠæˆ²**

### æ¯æ¬¡ç™¼è¡Œæ™‚

```powershell
# 1. åˆ‡æ›åˆ°å°ˆæ¡ˆç›®éŒ„
cd e:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier

# 2. æ›´æ–°ç‰ˆæœ¬è™Ÿå’Œè®Šæ›´æ—¥èªŒ
# ç·¨è¼¯ Properties\PublishConfiguration.xml

# 3. æ¸…ç†ä¸¦å»ºç½®
dotnet clean
dotnet build -c Release

# 4. ç™¼è¡Œåˆ° Paradox Mods
dotnet publish /p:PublishProfile=PublishNewVersion

# 5. æˆåŠŸï¼
```

---

## ğŸš€ ä½¿ç”¨å¿«é€Ÿç™¼è¡Œè…³æœ¬ï¼ˆæ¨è–¦ï¼‰

æˆ‘å·²ç¶“ç‚ºä½ å»ºç«‹äº†å¿«é€Ÿç™¼è¡Œè…³æœ¬ï¼Œä½¿ç”¨èµ·ä¾†æ›´ç°¡å–®ï¼š

```powershell
# ç¢ºä¿å·²åœ¨éŠæˆ²ä¸­ç™»å…¥éä¸€æ¬¡
cd e:\Code\CSL2\DemandModifier\DemandModifier\DemandModifier

# åŸ·è¡Œå¿«é€Ÿç™¼è¡Œ
.\quick-publish.ps1
```

è…³æœ¬æœƒè‡ªå‹•è™•ç†æ‰€æœ‰æ­¥é©Ÿï¼ŒåŒ…æ‹¬ï¼š
- âœ… æª¢æŸ¥å¿…è¦æª”æ¡ˆ
- âœ… æ›´æ–°ç‰ˆæœ¬è™Ÿ
- âœ… å»ºç½®å°ˆæ¡ˆ
- âœ… é©—è­‰å»ºç½®ç”¢ç‰©
- âœ… ç™¼è¡Œåˆ° Paradox Mods

---

## â“ å¸¸è¦‹å•é¡Œ

### Q1: æˆ‘å·²ç¶“åœ¨éŠæˆ²ä¸­ç™»å…¥äº†ï¼Œä½†é‚„æ˜¯é¡¯ç¤ºæœªç™»å…¥ï¼Ÿ

**A:** ç¢ºä¿ï¼š
1. éŠæˆ²å®Œå…¨é—œé–‰ï¼ˆæª¢æŸ¥å·¥ä½œç®¡ç†å“¡ä¸­æ²’æœ‰ Cities2.exeï¼‰
2. ç™»å…¥æ™‚é¸æ“‡äº†ã€Œè¨˜ä½æˆ‘ã€
3. æ²’æœ‰ä½¿ç”¨éŠæˆ²çš„ã€Œé›¢ç·šæ¨¡å¼ã€

### Q2: æˆ‘ä¸è¨˜å¾— Paradox å¸³è™Ÿå¯†ç¢¼æ€éº¼è¾¦ï¼Ÿ

**A:** 
1. å‰å¾€ https://accounts.paradoxplaza.com/
2. é»æ“Šã€Œå¿˜è¨˜å¯†ç¢¼ã€
3. æŒ‰ç…§æ­¥é©Ÿé‡è¨­å¯†ç¢¼
4. åœ¨éŠæˆ²ä¸­ä½¿ç”¨æ–°å¯†ç¢¼ç™»å…¥

### Q3: å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½ç™»å…¥å—ï¼Ÿ

**A:** å¯ä»¥ï¼åªè¦ï¼š
1. åœ¨éŠæˆ²ä¸­ç™»å…¥ä¸€æ¬¡ä¸¦é¸æ“‡ã€Œè¨˜ä½æˆ‘ã€
2. ä¹‹å¾Œç™¼è¡Œæ™‚ ModPublisher æœƒè‡ªå‹•ä½¿ç”¨å„²å­˜çš„ token
3. Token é€šå¸¸æœ‰æ•ˆæœŸå¾ˆé•·ï¼ˆæ•¸é€±æˆ–æ•¸æœˆï¼‰

### Q4: æˆ‘æƒ³åœ¨ CI/CD ä¸­è‡ªå‹•ç™¼è¡Œæ€éº¼è¾¦ï¼Ÿ

**A:** é€™éœ€è¦ä½¿ç”¨æ–¹æ³• 2ï¼ˆå‘½ä»¤åˆ—åƒæ•¸ï¼‰ï¼Œå»ºè­°ï¼š
1. ä½¿ç”¨ GitHub Secrets å„²å­˜å¸³è™Ÿå¯†ç¢¼
2. åœ¨ CI workflow ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸
3. æˆ–ä½¿ç”¨ Paradox API tokenï¼ˆå¦‚æœå¯ç”¨ï¼‰

---

## ğŸ” å®‰å…¨æé†’

**è«‹æ³¨æ„ï¼š**
- âŒ ä¸è¦åœ¨ Git å„²å­˜åº«ä¸­å„²å­˜æ˜æ–‡å¯†ç¢¼
- âŒ ä¸è¦åœ¨å…¬é–‹çš„è…³æœ¬ä¸­å¯«å…¥å¯†ç¢¼
- âœ… ä½¿ç”¨ç’°å¢ƒè®Šæ•¸æˆ–éŠæˆ²å…§ç™»å…¥
- âœ… ä½¿ç”¨ .gitignore æ’é™¤åŒ…å«å¯†ç¢¼çš„æª”æ¡ˆ

å¦‚æœä½ çš„å¯†ç¢¼æ„å¤–è¢«æäº¤åˆ° Gitï¼š
1. ç«‹å³æ›´æ”¹å¯†ç¢¼
2. ä½¿ç”¨ `git filter-branch` æˆ– BFG Repo-Cleaner æ¸…ç†æ­·å²è¨˜éŒ„
3. Force push åˆ°é ç«¯å„²å­˜åº«

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-10-27
